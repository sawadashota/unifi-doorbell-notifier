export class Client{constructor(t){this.apiEndpoint=t}static async configure(){const t=await fetch("/.well-known/configuration");if(t.status!==200)throw Error("failed to get configuration");const e=await t.json();return new Client(e.api_endpoint)}async messageTemplates(){const t=await fetch(`${this.apiEndpoint}/message/templates`,{mode:"cors",headers:{"Content-Type":"application/json"}});if(t.status!==200)throw Error("failed to get message templates");return await t.json()}async setMessage(t,e){if((await fetch(`${this.apiEndpoint}/message/set`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({doorbell_id:t,message:e,duration_sec:60})})).status!==201)throw Error("failed to set message templates")}}
